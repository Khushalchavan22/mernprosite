<style>


*{
  margin: 15px;;
  padding: 0;
  box-sizing: border-box;

}


  
body
{
  
  margin: 0;
  padding: 0;
  background: url(Screenshot\ 2023-12-26\ 185318.png);
  background-size: cover;
  background-position: center;
  font-family: sans-serif;
}

.avd
{
height: 100px;
width: 100px;
}


.khu{
    background: linear-gradient(to bottom , #ffffff, #deae46);
    font-family: 'Times New Roman', Times, serif;
    font-size: large;
}

label
{
  width: 100px;
  display: inline-block;
  border: #ffffff;
  height: 10px;
}


</style>



<center>
 

<div class="khu">
<h1><b> You Can Update the Information Of Employee Here ....</h1></b>
</div>
</center>

&nbsp;

<center>
<form id="avd" method="post">
<label><b><ul>ID:</b></ul></label> <input type="text" id="emp_id" autofocus><br><br>
<label><b>Name:</b></label> <input type="text" id="name"><br><br>
<label><b>Salary:</b></label> <input type="text" id="salary"><br><br>
<label><b>contact_no:</b> </label> <input type="text" id="contact_number"><br><br>
<label><b>Location:</b></label> <input type="text" id="location"><br><br>
<label><b>Designation:</b> </label> <input type="text" id="role"><br><br>
</form>
<button class="btn btn-danger" onclick="putData()" style="color: brown; width: 70; height: 40;" >Update</button>
&nbsp; 
<a href="frontend.html"><button  class="btn btn-danger" style="color: brown;  width: 70; height: 40;";> Cancel </button></a>

</center>

<script>

const urlParams = new URLSearchParams(window.location.search);
const id = urlParams.get('id');


url=`http://localhost:8080/employee/${id}`   
 
 fetch(url)
  .then(res => res.json())
  .then(res =>
  {  
     console.log(res); 
     console.table(res) 
     document.getElementById('emp_id').value=res['employee_id']
     document.getElementById('name').value=res['name']
     document.getElementById('salary').value=res['salary'] 
     document.getElementById('contact_number').value=res['contact_number']
     document.getElementById('location').value=res['address']
     document.getElementById('role').value=res['role']

    l
   

  })


    function putData(){
     
      data={
        "id":id,
       "name":document.getElementById("name").value,
       "contact_number":document.getElementById("contact_number").value,
       "address":document.getElementById("location").value,
       "salary":document.getElementById("salary").value,
       "employee_id":document.getElementById("emp_id").value,
       "role":document.getElementById("role").value

      }

   url="https://startling-pavlova-95436c.netlify.app/.netlify/functions/api/employee"

      
    fetch(url , 
    {
    method:"PUT" ,
     headers:{
     'Accept':'application/json',
     'Content-Type':'application/json'
     },
    body: JSON.stringify(data)
     })
    .then(res => res.json())
    .then(res =>
    {
     window.location.href='frontend.html'
    
     } ,

     alert('|| Record Updated ||')
     )
   }
      </script>
